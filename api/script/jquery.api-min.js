(function(a){function e(c,f,g){if(c&&c.length){a.isArray(c)||(c=[c]);g.trigger("api."+f,[f,c])}}a.api=function(c,f,g){var h,b=a.extend({},a.api.defaults,g);h={success:b.success};b.success=function(d,i,j){e(!d.HEAD.result?[d.HEAD.errors.HEAD.error.message,d.HEAD.errors.HEAD.error.detail]:undefined,"errors",b.triggerElement);e(d.HEAD.errors,"errors",b.triggerElement);e(d.HEAD.warnings,"warnings",b.triggerElement);e(d.HEAD.successes,"successes",b.triggerElement);e(d.HEAD.messages,"messages",b.triggerElement);
h.success&&h.success(d,i,j)};b.data={HEAD:JSON.stringify(c),BODY:JSON.stringify(f)};a.ajax(b)};a.api.defaults={dataType:"json",triggerElement:a("body"),type:"post",url:a.algid.admin.options.base.url+a.algid.admin.options.base.api}})(jQuery);
